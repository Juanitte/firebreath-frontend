<div id="loading" *ngIf="loading$ | async" class="w-100 h-100">
    <app-loading></app-loading>
</div>

<div class="custom-container col justify-items-center align-items-center" [ngClass]="themeClass" *ngIf="!(loading$ | async)">
    <form [formGroup]="loginForm" (submit)="onSubmit()">
        <div class="title py-3 px-3">
            <h1 class="pt-2">{{'login.title' | translate}}</h1>
        </div>
        <div class="form-container pt-4 pb-3 px-5">
            <div class="mb-3">
                <label for="email" class="form-label"><i class="fa-solid fa-at"></i> {{'login.email' |
                    translate}}</label>
                <input type="text" class="form-control form-control-lg" id="email"
                    placeholder="{{'login.emailplaceholder' | translate}}" formControlName="email">
            </div>

            <div class="mb-3">
                <label for="password" class="form-label"><i class="fa-solid fa-lock"></i> {{'login.password' |
                    translate}}</label>
                <div class="input-group">
                    <input type="password" class="form-control form-control-lg" id="password" autocomplete="off"
                        placeholder="{{'login.passwordplaceholder' | translate}} " formControlName="password">
                    <span class="input-group-text eye" (click)="togglePasswordVisibility()">
                        <i class="fas fa-eye"
                            [ngClass]="{'fa-eye': passwordVisible, 'fa-eye-slash': !passwordVisible}"></i>
                    </span>
                </div>
            </div>

            <div class="mb-3">
                <p class="error-msg">
                    {{errorMsg}}
                </p>
            </div>

            <div id="loading" *ngIf="loading$ | async" class="w-100 h-100">
                <app-loading></app-loading>
            </div>

            <div class="d-grid mb-1">
                <button [disabled]="!loginForm.valid" type="submit" class="btn btn-lg">{{'login.login' | translate}}</button>
            </div>
            <div class="d-grid mb-3">
                <button (click)="goToSignup()" class="btn btn-lg signup-btn">{{'login.signup' | translate}}</button>
            </div>

            <div class="link mb-3">
                <a (click)="goToRecover()" class="link-warning">{{'login.forgotpassword' | translate}}</a>
            </div>
        </div>
    </form>
</div>